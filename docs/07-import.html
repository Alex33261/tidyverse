<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Introduction à R et au tidyverse</title>
  <meta name="description" content="Une introduction à R et aux extensions du <em>tidyverse</em>">
  <meta name="generator" content="bookdown 0.5 and GitBook 2.6.7">

  <meta property="og:title" content="Introduction à R et au tidyverse" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Une introduction à R et aux extensions du <em>tidyverse</em>" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Introduction à R et au tidyverse" />
  
  <meta name="twitter:description" content="Une introduction à R et aux extensions du <em>tidyverse</em>" />
  

<meta name="author" content="Julien Barnier">


<meta name="date" content="2017-10-12">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="06-tidyverse.html">
<link rel="next" href="08-ggplot2.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets-0.9/htmlwidgets.js"></script>
<link href="libs/leaflet-0.7.7/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-0.7.7/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<link href="libs/leaflet-label-0.2.2/leaflet.label.css" rel="stylesheet" />
<script src="libs/leaflet-label-0.2.2/leaflet.label.js"></script>
<script src="libs/Proj4Leaflet-0.7.2/proj4-compressed.js"></script>
<script src="libs/Proj4Leaflet-0.7.2/proj4leaflet.js"></script>
<script src="libs/leaflet-binding-1.1.0/leaflet.js"></script>
<script src="libs/datatables-binding-0.2/datatables.js"></script>
<link href="libs/dt-core-1.10.12/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.12/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.12/js/jquery.dataTables.min.js"></script>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; background-color: #ffffff; color: #1f1c1b; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; background-color: #ffffff; color: #a0a0a0; border-right: 1px solid #a0a0a0; }
td.sourceCode { padding-left: 5px; }
pre, code { color: #1f1c1b; background-color: #ffffff; }
code > span.kw { color: #1f1c1b; font-weight: bold; } /* Keyword */
code > span.dt { color: #0057ae; } /* DataType */
code > span.dv { color: #b08000; } /* DecVal */
code > span.bn { color: #b08000; } /* BaseN */
code > span.fl { color: #b08000; } /* Float */
code > span.cn { color: #aa5500; } /* Constant */
code > span.ch { color: #924c9d; } /* Char */
code > span.sc { color: #3daee9; } /* SpecialChar */
code > span.st { color: #bf0303; } /* String */
code > span.vs { color: #bf0303; } /* VerbatimString */
code > span.ss { color: #ff5500; } /* SpecialString */
code > span.im { color: #ff5500; } /* Import */
code > span.co { color: #898887; } /* Comment */
code > span.do { color: #607880; } /* Documentation */
code > span.an { color: #ca60ca; } /* Annotation */
code > span.cv { color: #0095ff; } /* CommentVar */
code > span.ot { color: #006e28; } /* Other */
code > span.fu { color: #644a9b; } /* Function */
code > span.va { color: #0057ae; } /* Variable */
code > span.cf { color: #1f1c1b; font-weight: bold; } /* ControlFlow */
code > span.op { color: #1f1c1b; } /* Operator */
code > span.bu { color: #644a9b; font-weight: bold; } /* BuiltIn */
code > span.ex { color: #0095ff; font-weight: bold; } /* Extension */
code > span.pp { color: #006e28; } /* Preprocessor */
code > span.at { color: #0057ae; } /* Attribute */
code > span.re { color: #0057ae; } /* RegionMarker */
code > span.in { color: #b08000; } /* Information */
code > span.wa { color: #bf0303; } /* Warning */
code > span.al { color: #bf0303; font-weight: bold; } /* Alert */
code > span.er { color: #bf0303; text-decoration: underline; } /* Error */
code > span. { color: #1f1c1b; } /* Normal */
</style>

<link rel="stylesheet" href="tidyverse.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./index.html">Introduction à R et au <em>tidyverse</em></a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>À propos de ce document</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#remerciements"><i class="fa fa-check"></i>Remerciements</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#licence"><i class="fa fa-check"></i>Licence</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="01-presentation.html"><a href="01-presentation.html"><i class="fa fa-check"></i><b>1</b> Présentation</a><ul>
<li class="chapter" data-level="1.1" data-path="01-presentation.html"><a href="01-presentation.html#a-propos-de-r"><i class="fa fa-check"></i><b>1.1</b> À propos de R</a></li>
<li class="chapter" data-level="1.2" data-path="01-presentation.html"><a href="01-presentation.html#rstudio"><i class="fa fa-check"></i><b>1.2</b> À propos de RStudio</a></li>
<li class="chapter" data-level="1.3" data-path="01-presentation.html"><a href="01-presentation.html#a-propos-du-tidyverse"><i class="fa fa-check"></i><b>1.3</b> À propos du <em>tidyverse</em></a></li>
<li class="chapter" data-level="1.4" data-path="01-presentation.html"><a href="01-presentation.html#structure-du-document"><i class="fa fa-check"></i><b>1.4</b> Structure du document</a></li>
<li class="chapter" data-level="1.5" data-path="01-presentation.html"><a href="01-presentation.html#prerequis"><i class="fa fa-check"></i><b>1.5</b> Prérequis</a></li>
</ul></li>
<li class="part"><span><b>I Introduction à R</b></span></li>
<li class="chapter" data-level="2" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html"><i class="fa fa-check"></i><b>2</b> Prise en main</a><ul>
<li class="chapter" data-level="2.1" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#la-console"><i class="fa fa-check"></i><b>2.1</b> La console</a><ul>
<li class="chapter" data-level="2.1.1" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#linvite-de-commandes"><i class="fa fa-check"></i><b>2.1.1</b> L’invite de commandes</a></li>
<li class="chapter" data-level="2.1.2" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#precisions-et-astuces-concernant-la-saisie-des-commandes"><i class="fa fa-check"></i><b>2.1.2</b> Précisions et astuces concernant la saisie des commandes</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#objets"><i class="fa fa-check"></i><b>2.2</b> Objets</a><ul>
<li class="chapter" data-level="2.2.1" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#objets-simples"><i class="fa fa-check"></i><b>2.2.1</b> Objets simples</a></li>
<li class="chapter" data-level="2.2.2" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#vecteurs"><i class="fa fa-check"></i><b>2.2.2</b> Vecteurs</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#fonctions"><i class="fa fa-check"></i><b>2.3</b> Fonctions</a><ul>
<li class="chapter" data-level="2.3.1" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#principe"><i class="fa fa-check"></i><b>2.3.1</b> Principe</a></li>
<li class="chapter" data-level="2.3.2" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#arguments"><i class="fa fa-check"></i><b>2.3.2</b> Arguments</a></li>
<li class="chapter" data-level="2.3.3" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#aide-sur-une-fonction"><i class="fa fa-check"></i><b>2.3.3</b> Aide sur une fonction</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#regrouper-ses-commandes-dans-des-scripts"><i class="fa fa-check"></i><b>2.4</b> Regrouper ses commandes dans des scripts</a><ul>
<li class="chapter" data-level="2.4.1" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#commentaires"><i class="fa fa-check"></i><b>2.4.1</b> Commentaires</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#packages"><i class="fa fa-check"></i><b>2.5</b> Installer et charger des extensions (<em>packages</em>)</a></li>
<li class="chapter" data-level="2.6" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#exercices"><i class="fa fa-check"></i><b>2.6</b> Exercices</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="03-premier_travail.html"><a href="03-premier_travail.html"><i class="fa fa-check"></i><b>3</b> Premier travail avec des données</a><ul>
<li class="chapter" data-level="3.1" data-path="03-premier_travail.html"><a href="03-premier_travail.html#jeux-de-donnees-dexemple"><i class="fa fa-check"></i><b>3.1</b> Jeux de données d’exemple</a></li>
<li class="chapter" data-level="3.2" data-path="03-premier_travail.html"><a href="03-premier_travail.html#tableau-de-donnees-data-frame"><i class="fa fa-check"></i><b>3.2</b> Tableau de données (<em>data frame</em>)</a><ul>
<li class="chapter" data-level="3.2.1" data-path="03-premier_travail.html"><a href="03-premier_travail.html#acceder-aux-variables-dun-tableau"><i class="fa fa-check"></i><b>3.2.1</b> Accéder aux variables d’un tableau</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="03-premier_travail.html"><a href="03-premier_travail.html#analyse-univariee"><i class="fa fa-check"></i><b>3.3</b> Analyse univariée</a><ul>
<li class="chapter" data-level="3.3.1" data-path="03-premier_travail.html"><a href="03-premier_travail.html#analyser-une-variable-quantitative"><i class="fa fa-check"></i><b>3.3.1</b> Analyser une variable quantitative</a></li>
<li class="chapter" data-level="3.3.2" data-path="03-premier_travail.html"><a href="03-premier_travail.html#analyser-une-variable-qualitative"><i class="fa fa-check"></i><b>3.3.2</b> Analyser une variable qualitative</a></li>
<li class="chapter" data-level="3.3.3" data-path="03-premier_travail.html"><a href="03-premier_travail.html#exercices-1"><i class="fa fa-check"></i><b>3.3.3</b> Exercices</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="04-bivarie.html"><a href="04-bivarie.html"><i class="fa fa-check"></i><b>4</b> Analyse bivariée</a><ul>
<li class="chapter" data-level="4.1" data-path="04-bivarie.html"><a href="04-bivarie.html#croisement-de-deux-variables-qualitatives"><i class="fa fa-check"></i><b>4.1</b> Croisement de deux variables qualitatives</a><ul>
<li class="chapter" data-level="4.1.1" data-path="04-bivarie.html"><a href="04-bivarie.html#tableaux-croises"><i class="fa fa-check"></i><b>4.1.1</b> Tableaux croisés</a></li>
<li class="chapter" data-level="4.1.2" data-path="04-bivarie.html"><a href="04-bivarie.html#test-du-"><i class="fa fa-check"></i><b>4.1.2</b> Test du χ²</a></li>
<li class="chapter" data-level="4.1.3" data-path="04-bivarie.html"><a href="04-bivarie.html#representation-graphique-1"><i class="fa fa-check"></i><b>4.1.3</b> Représentation graphique</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="04-bivarie.html"><a href="04-bivarie.html#croisement-dune-variable-quantitative-et-dune-variable-qualitative"><i class="fa fa-check"></i><b>4.2</b> Croisement d’une variable quantitative et d’une variable qualitative</a><ul>
<li class="chapter" data-level="4.2.1" data-path="04-bivarie.html"><a href="04-bivarie.html#representation-graphique-2"><i class="fa fa-check"></i><b>4.2.1</b> Représentation graphique</a></li>
<li class="chapter" data-level="4.2.2" data-path="04-bivarie.html"><a href="04-bivarie.html#calculs-dindicateurs"><i class="fa fa-check"></i><b>4.2.2</b> Calculs d’indicateurs</a></li>
<li class="chapter" data-level="4.2.3" data-path="04-bivarie.html"><a href="04-bivarie.html#tests-statistiques"><i class="fa fa-check"></i><b>4.2.3</b> Tests statistiques</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="04-bivarie.html"><a href="04-bivarie.html#croisement-de-deux-variables-quantitatives"><i class="fa fa-check"></i><b>4.3</b> Croisement de deux variables quantitatives</a><ul>
<li class="chapter" data-level="4.3.1" data-path="04-bivarie.html"><a href="04-bivarie.html#representation-graphique-3"><i class="fa fa-check"></i><b>4.3.1</b> Représentation graphique</a></li>
<li class="chapter" data-level="4.3.2" data-path="04-bivarie.html"><a href="04-bivarie.html#calcul-dindicateurs"><i class="fa fa-check"></i><b>4.3.2</b> Calcul d’indicateurs</a></li>
<li class="chapter" data-level="4.3.3" data-path="04-bivarie.html"><a href="04-bivarie.html#regression-lineaire"><i class="fa fa-check"></i><b>4.3.3</b> Régression linéaire</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="05-organiser.html"><a href="05-organiser.html"><i class="fa fa-check"></i><b>5</b> Organiser ses scripts</a><ul>
<li class="chapter" data-level="5.1" data-path="05-organiser.html"><a href="05-organiser.html#projets"><i class="fa fa-check"></i><b>5.1</b> Les projets dans RStudio</a></li>
<li class="chapter" data-level="5.2" data-path="05-organiser.html"><a href="05-organiser.html#creer-des-sections"><i class="fa fa-check"></i><b>5.2</b> Créer des sections</a></li>
<li class="chapter" data-level="5.3" data-path="05-organiser.html"><a href="05-organiser.html#repartir-son-travail-entre-plusieurs-scripts"><i class="fa fa-check"></i><b>5.3</b> Répartir son travail entre plusieurs scripts</a></li>
<li class="chapter" data-level="5.4" data-path="05-organiser.html"><a href="05-organiser.html#desactiver-la-sauvegarde-et-le-chargement-automatique-de-lenvironnement-par-rstudio"><i class="fa fa-check"></i><b>5.4</b> Désactiver la sauvegarde et le chargement automatique de l’environnement par RStudio</a></li>
</ul></li>
<li class="part"><span><b>II Introduction au <em>tidyverse</em></b></span></li>
<li class="chapter" data-level="6" data-path="06-tidyverse.html"><a href="06-tidyverse.html"><i class="fa fa-check"></i><b>6</b> Le tidyverse</a><ul>
<li class="chapter" data-level="6.1" data-path="06-tidyverse.html"><a href="06-tidyverse.html#extensions"><i class="fa fa-check"></i><b>6.1</b> Extensions</a></li>
<li class="chapter" data-level="6.2" data-path="06-tidyverse.html"><a href="06-tidyverse.html#installation"><i class="fa fa-check"></i><b>6.2</b> Installation</a></li>
<li class="chapter" data-level="6.3" data-path="06-tidyverse.html"><a href="06-tidyverse.html#tidy-data"><i class="fa fa-check"></i><b>6.3</b> <em>tidy data</em></a></li>
<li class="chapter" data-level="6.4" data-path="06-tidyverse.html"><a href="06-tidyverse.html#tibbles-et-data-frames"><i class="fa fa-check"></i><b>6.4</b> tibbles et <em>data frames</em></a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="07-import.html"><a href="07-import.html"><i class="fa fa-check"></i><b>7</b> Importer et exporter des données</a><ul>
<li class="chapter" data-level="7.1" data-path="07-import.html"><a href="07-import.html#import-de-fichiers-textes"><i class="fa fa-check"></i><b>7.1</b> Import de fichiers textes</a><ul>
<li class="chapter" data-level="7.1.1" data-path="07-import.html"><a href="07-import.html#interface-interactive-dimport-de-fichiers"><i class="fa fa-check"></i><b>7.1.1</b> Interface interactive d’import de fichiers</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="07-import.html"><a href="07-import.html#import-depuis-un-fichier-excel"><i class="fa fa-check"></i><b>7.2</b> Import depuis un fichier Excel</a></li>
<li class="chapter" data-level="7.3" data-path="07-import.html"><a href="07-import.html#import-de-fichiers-sas-spss-et-stata"><i class="fa fa-check"></i><b>7.3</b> Import de fichiers SAS, SPSS et Stata</a></li>
<li class="chapter" data-level="7.4" data-path="07-import.html"><a href="07-import.html#import-de-fichiers-dbase"><i class="fa fa-check"></i><b>7.4</b> Import de fichiers dBase</a></li>
<li class="chapter" data-level="7.5" data-path="07-import.html"><a href="07-import.html#connexion-a-des-bases-de-donnees"><i class="fa fa-check"></i><b>7.5</b> Connexion à des bases de données</a></li>
<li class="chapter" data-level="7.6" data-path="07-import.html"><a href="07-import.html#export-de-donnees"><i class="fa fa-check"></i><b>7.6</b> Export de données</a><ul>
<li class="chapter" data-level="7.6.1" data-path="07-import.html"><a href="07-import.html#export-de-tableaux-de-donnees"><i class="fa fa-check"></i><b>7.6.1</b> Export de tableaux de données</a></li>
<li class="chapter" data-level="7.6.2" data-path="07-import.html"><a href="07-import.html#sauvegarder-des-objets"><i class="fa fa-check"></i><b>7.6.2</b> Sauvegarder des objets</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="08-ggplot2.html"><a href="08-ggplot2.html"><i class="fa fa-check"></i><b>8</b> Représentations graphiques</a><ul>
<li class="chapter" data-level="8.1" data-path="08-ggplot2.html"><a href="08-ggplot2.html#preparation"><i class="fa fa-check"></i><b>8.1</b> Préparation</a></li>
<li class="chapter" data-level="8.2" data-path="08-ggplot2.html"><a href="08-ggplot2.html#initialisation"><i class="fa fa-check"></i><b>8.2</b> Initialisation</a></li>
<li class="chapter" data-level="8.3" data-path="08-ggplot2.html"><a href="08-ggplot2.html#exemples-de-geom"><i class="fa fa-check"></i><b>8.3</b> Exemples de <code>geom</code></a><ul>
<li class="chapter" data-level="8.3.1" data-path="08-ggplot2.html"><a href="08-ggplot2.html#geom_boxplot"><i class="fa fa-check"></i><b>8.3.1</b> <code>geom_boxplot</code></a></li>
<li class="chapter" data-level="8.3.2" data-path="08-ggplot2.html"><a href="08-ggplot2.html#geom_violin"><i class="fa fa-check"></i><b>8.3.2</b> <code>geom_violin</code></a></li>
<li class="chapter" data-level="8.3.3" data-path="08-ggplot2.html"><a href="08-ggplot2.html#geom_bar"><i class="fa fa-check"></i><b>8.3.3</b> <code>geom_bar</code></a></li>
<li class="chapter" data-level="8.3.4" data-path="08-ggplot2.html"><a href="08-ggplot2.html#geom_text"><i class="fa fa-check"></i><b>8.3.4</b> <code>geom_text</code></a></li>
<li class="chapter" data-level="8.3.5" data-path="08-ggplot2.html"><a href="08-ggplot2.html#geom_label"><i class="fa fa-check"></i><b>8.3.5</b> <code>geom_label</code></a></li>
<li class="chapter" data-level="8.3.6" data-path="08-ggplot2.html"><a href="08-ggplot2.html#geom_density"><i class="fa fa-check"></i><b>8.3.6</b> <code>geom_density</code></a></li>
<li class="chapter" data-level="8.3.7" data-path="08-ggplot2.html"><a href="08-ggplot2.html#geom_line"><i class="fa fa-check"></i><b>8.3.7</b> <code>geom_line</code></a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="08-ggplot2.html"><a href="08-ggplot2.html#representation-de-plusieurs-geom"><i class="fa fa-check"></i><b>8.4</b> Représentation de plusieurs <code>geom</code></a><ul>
<li class="chapter" data-level="8.4.1" data-path="08-ggplot2.html"><a href="08-ggplot2.html#plusieurs-sources-de-donnees"><i class="fa fa-check"></i><b>8.4.1</b> Plusieurs sources de données</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="08-ggplot2.html"><a href="08-ggplot2.html#mappages-aesthetics"><i class="fa fa-check"></i><b>8.5</b> Mappages (<em>aesthetics</em>)</a><ul>
<li class="chapter" data-level="8.5.1" data-path="08-ggplot2.html"><a href="08-ggplot2.html#exemples-de-mappages"><i class="fa fa-check"></i><b>8.5.1</b> Exemples de mappages</a></li>
<li class="chapter" data-level="8.5.2" data-path="08-ggplot2.html"><a href="08-ggplot2.html#aesthetic-or-not-aesthetic"><i class="fa fa-check"></i><b>8.5.2</b> <em>aesthetic</em> or not <em>aesthetic</em> ?</a></li>
<li class="chapter" data-level="8.5.3" data-path="08-ggplot2.html"><a href="08-ggplot2.html#geom_bar-et-position"><i class="fa fa-check"></i><b>8.5.3</b> <code>geom_bar</code> et <code>position</code></a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="08-ggplot2.html"><a href="08-ggplot2.html#facets"><i class="fa fa-check"></i><b>8.6</b> <em>facets</em></a></li>
<li class="chapter" data-level="8.7" data-path="08-ggplot2.html"><a href="08-ggplot2.html#scales"><i class="fa fa-check"></i><b>8.7</b> <em>scales</em></a><ul>
<li class="chapter" data-level="8.7.1" data-path="08-ggplot2.html"><a href="08-ggplot2.html#scale_size"><i class="fa fa-check"></i><b>8.7.1</b> <code>scale_size</code></a></li>
<li class="chapter" data-level="8.7.2" data-path="08-ggplot2.html"><a href="08-ggplot2.html#scale_x_-scale_y_"><i class="fa fa-check"></i><b>8.7.2</b> <code>scale_x_*</code>, <code>scale_y_*</code></a></li>
<li class="chapter" data-level="8.7.3" data-path="08-ggplot2.html"><a href="08-ggplot2.html#scale_color_-scale_fill_"><i class="fa fa-check"></i><b>8.7.3</b> <code>scale_color_*</code>, <code>scale_fill_*</code></a></li>
</ul></li>
<li class="chapter" data-level="8.8" data-path="08-ggplot2.html"><a href="08-ggplot2.html#themes"><i class="fa fa-check"></i><b>8.8</b> Thèmes</a></li>
<li class="chapter" data-level="8.9" data-path="08-ggplot2.html"><a href="08-ggplot2.html#ressources"><i class="fa fa-check"></i><b>8.9</b> Ressources</a></li>
<li class="chapter" data-level="8.10" data-path="08-ggplot2.html"><a href="08-ggplot2.html#exercices-2"><i class="fa fa-check"></i><b>8.10</b> Exercices</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="09-dplyr.html"><a href="09-dplyr.html"><i class="fa fa-check"></i><b>9</b> Manipuler les données</a><ul>
<li class="chapter" data-level="9.1" data-path="09-dplyr.html"><a href="09-dplyr.html#preparation-1"><i class="fa fa-check"></i><b>9.1</b> Préparation</a></li>
<li class="chapter" data-level="9.2" data-path="09-dplyr.html"><a href="09-dplyr.html#les-verbes-de-dplyr"><i class="fa fa-check"></i><b>9.2</b> Les verbes de <code>dplyr</code></a><ul>
<li class="chapter" data-level="9.2.1" data-path="09-dplyr.html"><a href="09-dplyr.html#slice"><i class="fa fa-check"></i><b>9.2.1</b> <code>slice</code></a></li>
<li class="chapter" data-level="9.2.2" data-path="09-dplyr.html"><a href="09-dplyr.html#filter"><i class="fa fa-check"></i><b>9.2.2</b> <code>filter</code></a></li>
<li class="chapter" data-level="9.2.3" data-path="09-dplyr.html"><a href="09-dplyr.html#select-et-rename"><i class="fa fa-check"></i><b>9.2.3</b> <code>select</code> et <code>rename</code></a></li>
<li class="chapter" data-level="9.2.4" data-path="09-dplyr.html"><a href="09-dplyr.html#arrange"><i class="fa fa-check"></i><b>9.2.4</b> <code>arrange</code></a></li>
<li class="chapter" data-level="9.2.5" data-path="09-dplyr.html"><a href="09-dplyr.html#mutate"><i class="fa fa-check"></i><b>9.2.5</b> mutate</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="09-dplyr.html"><a href="09-dplyr.html#enchainer-les-operations-avec-le-pipe"><i class="fa fa-check"></i><b>9.3</b> Enchaîner les opérations avec le <em>pipe</em> : <code>%&gt;%</code></a></li>
<li class="chapter" data-level="9.4" data-path="09-dplyr.html"><a href="09-dplyr.html#operations-groupees"><i class="fa fa-check"></i><b>9.4</b> Opérations groupées</a><ul>
<li class="chapter" data-level="9.4.1" data-path="09-dplyr.html"><a href="09-dplyr.html#group_by"><i class="fa fa-check"></i><b>9.4.1</b> <code>group_by</code></a></li>
<li class="chapter" data-level="9.4.2" data-path="09-dplyr.html"><a href="09-dplyr.html#summarise-et-count"><i class="fa fa-check"></i><b>9.4.2</b> <code>summarise</code> et <code>count</code></a></li>
<li class="chapter" data-level="9.4.3" data-path="09-dplyr.html"><a href="09-dplyr.html#grouper-selon-plusieurs-variables"><i class="fa fa-check"></i><b>9.4.3</b> Grouper selon plusieurs variables</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="09-dplyr.html"><a href="09-dplyr.html#autres-fonctions-utiles"><i class="fa fa-check"></i><b>9.5</b> Autres fonctions utiles</a><ul>
<li class="chapter" data-level="9.5.1" data-path="09-dplyr.html"><a href="09-dplyr.html#sample_n-sample_frac"><i class="fa fa-check"></i><b>9.5.1</b> <code>sample_n</code>, <code>sample_frac</code></a></li>
<li class="chapter" data-level="9.5.2" data-path="09-dplyr.html"><a href="09-dplyr.html#lead-et-lag"><i class="fa fa-check"></i><b>9.5.2</b> <code>lead</code> et <code>lag</code></a></li>
<li class="chapter" data-level="9.5.3" data-path="09-dplyr.html"><a href="09-dplyr.html#tally"><i class="fa fa-check"></i><b>9.5.3</b> <code>tally</code></a></li>
<li class="chapter" data-level="9.5.4" data-path="09-dplyr.html"><a href="09-dplyr.html#distinct"><i class="fa fa-check"></i><b>9.5.4</b> <code>distinct</code></a></li>
<li class="chapter" data-level="9.5.5" data-path="09-dplyr.html"><a href="09-dplyr.html#do"><i class="fa fa-check"></i><b>9.5.5</b> <code>do</code></a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="09-dplyr.html"><a href="09-dplyr.html#tables-multiples"><i class="fa fa-check"></i><b>9.6</b> Tables multiples</a><ul>
<li class="chapter" data-level="9.6.1" data-path="09-dplyr.html"><a href="09-dplyr.html#concatenation-bind_rows-et-bind_cols"><i class="fa fa-check"></i><b>9.6.1</b> Concaténation : <code>bind_rows</code> et <code>bind_cols</code></a></li>
<li class="chapter" data-level="9.6.2" data-path="09-dplyr.html"><a href="09-dplyr.html#jointures"><i class="fa fa-check"></i><b>9.6.2</b> Jointures</a></li>
<li class="chapter" data-level="9.6.3" data-path="09-dplyr.html"><a href="09-dplyr.html#types-de-jointures"><i class="fa fa-check"></i><b>9.6.3</b> Types de jointures</a></li>
</ul></li>
<li class="chapter" data-level="9.7" data-path="09-dplyr.html"><a href="09-dplyr.html#ressources-1"><i class="fa fa-check"></i><b>9.7</b> Ressources</a></li>
<li class="chapter" data-level="9.8" data-path="09-dplyr.html"><a href="09-dplyr.html#exercices-3"><i class="fa fa-check"></i><b>9.8</b> Exercices</a><ul>
<li class="chapter" data-level="9.8.1" data-path="09-dplyr.html"><a href="09-dplyr.html#les-verbes-de-base-de-dplyr"><i class="fa fa-check"></i><b>9.8.1</b> Les verbes de base de <code>dplyr</code></a></li>
<li class="chapter" data-level="9.8.2" data-path="09-dplyr.html"><a href="09-dplyr.html#enchainer-des-operations"><i class="fa fa-check"></i><b>9.8.2</b> Enchaîner des opérations</a></li>
<li class="chapter" data-level="9.8.3" data-path="09-dplyr.html"><a href="09-dplyr.html#group_by-et-summarise"><i class="fa fa-check"></i><b>9.8.3</b> <code>group_by</code> et <code>summarise</code></a></li>
<li class="chapter" data-level="9.8.4" data-path="09-dplyr.html"><a href="09-dplyr.html#jointures-1"><i class="fa fa-check"></i><b>9.8.4</b> Jointures</a></li>
<li class="chapter" data-level="9.8.5" data-path="09-dplyr.html"><a href="09-dplyr.html#bonus"><i class="fa fa-check"></i><b>9.8.5</b> Bonus</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="10-recodages.html"><a href="10-recodages.html"><i class="fa fa-check"></i><b>10</b> Recoder et calculer des variables</a><ul>
<li class="chapter" data-level="10.1" data-path="10-recodages.html"><a href="10-recodages.html#rappel-sur-les-variables-et-les-vecteurs"><i class="fa fa-check"></i><b>10.1</b> Rappel sur les variables et les vecteurs</a></li>
<li class="chapter" data-level="10.2" data-path="10-recodages.html"><a href="10-recodages.html#tests"><i class="fa fa-check"></i><b>10.2</b> Tests et comparaison</a></li>
<li class="chapter" data-level="10.3" data-path="10-recodages.html"><a href="10-recodages.html#recoder-une-variable-qualitative"><i class="fa fa-check"></i><b>10.3</b> Recoder une variable qualitative</a><ul>
<li class="chapter" data-level="10.3.1" data-path="10-recodages.html"><a href="10-recodages.html#lextension-forcats"><i class="fa fa-check"></i><b>10.3.1</b> L’extension <code>forcats</code></a></li>
<li class="chapter" data-level="10.3.2" data-path="10-recodages.html"><a href="10-recodages.html#modifier-les-modalites-dune-variable-qualitative"><i class="fa fa-check"></i><b>10.3.2</b> Modifier les modalités d’une variable qualitative</a></li>
<li class="chapter" data-level="10.3.3" data-path="10-recodages.html"><a href="10-recodages.html#ordonner-les-modalites-dune-variable-qualitative"><i class="fa fa-check"></i><b>10.3.3</b> Ordonner les modalités d’une variable qualitative</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="10-recodages.html"><a href="10-recodages.html#combiner-une-ou-plusieurs-variables"><i class="fa fa-check"></i><b>10.4</b> Combiner une ou plusieurs variables</a><ul>
<li class="chapter" data-level="10.4.1" data-path="10-recodages.html"><a href="10-recodages.html#if_else"><i class="fa fa-check"></i><b>10.4.1</b> <code>if_else</code></a></li>
<li class="chapter" data-level="10.4.2" data-path="10-recodages.html"><a href="10-recodages.html#case_when"><i class="fa fa-check"></i><b>10.4.2</b> <code>case_when</code></a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="10-recodages.html"><a href="10-recodages.html#decouper-une-variable-numerique-en-classes"><i class="fa fa-check"></i><b>10.5</b> Découper une variable numérique en classes</a><ul>
<li class="chapter" data-level="10.5.1" data-path="10-recodages.html"><a href="10-recodages.html#interface-graphique"><i class="fa fa-check"></i><b>10.5.1</b> Interface graphique</a></li>
</ul></li>
<li class="chapter" data-level="10.6" data-path="10-recodages.html"><a href="10-recodages.html#exercices-4"><i class="fa fa-check"></i><b>10.6</b> Exercices</a><ul>
<li class="chapter" data-level="10.6.1" data-path="10-recodages.html"><a href="10-recodages.html#preparation-2"><i class="fa fa-check"></i><b>10.6.1</b> Préparation</a></li>
<li class="chapter" data-level="10.6.2" data-path="10-recodages.html"><a href="10-recodages.html#vecteurs-et-tests"><i class="fa fa-check"></i><b>10.6.2</b> Vecteurs et tests</a></li>
<li class="chapter" data-level="10.6.3" data-path="10-recodages.html"><a href="10-recodages.html#recodages-de-variable-qualitative"><i class="fa fa-check"></i><b>10.6.3</b> Recodages de variable qualitative</a></li>
<li class="chapter" data-level="10.6.4" data-path="10-recodages.html"><a href="10-recodages.html#combiner-plusieurs-variables"><i class="fa fa-check"></i><b>10.6.4</b> Combiner plusieurs variables</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="11-tidyr.html"><a href="11-tidyr.html"><i class="fa fa-check"></i><b>11</b> Arranger ses données</a><ul>
<li class="chapter" data-level="11.1" data-path="06-tidyverse.html"><a href="06-tidyverse.html#tidy-data"><i class="fa fa-check"></i><b>11.1</b> <em>Tidy data</em></a></li>
<li class="chapter" data-level="11.2" data-path="11-tidyr.html"><a href="11-tidyr.html#trois-regles-pour-des-donnees-bien-rangees"><i class="fa fa-check"></i><b>11.2</b> Trois règles pour des données bien rangées</a></li>
<li class="chapter" data-level="11.3" data-path="11-tidyr.html"><a href="11-tidyr.html#les-verbes-de-tidyr"><i class="fa fa-check"></i><b>11.3</b> Les verbes de <code>tidyr</code></a><ul>
<li class="chapter" data-level="11.3.1" data-path="11-tidyr.html"><a href="11-tidyr.html#gather-rassembler-des-colonnes"><i class="fa fa-check"></i><b>11.3.1</b> <code>gather</code> : rassembler des colonnes</a></li>
<li class="chapter" data-level="11.3.2" data-path="11-tidyr.html"><a href="11-tidyr.html#spread-disperser-des-lignes"><i class="fa fa-check"></i><b>11.3.2</b> <code>spread</code> : disperser des lignes</a></li>
<li class="chapter" data-level="11.3.3" data-path="11-tidyr.html"><a href="11-tidyr.html#separate-separer-une-colonne-en-plusieurs"><i class="fa fa-check"></i><b>11.3.3</b> <code>separate</code> : séparer une colonne en plusieurs</a></li>
<li class="chapter" data-level="11.3.4" data-path="11-tidyr.html"><a href="11-tidyr.html#unite-regrouper-plusieurs-colonnes-en-une-seule"><i class="fa fa-check"></i><b>11.3.4</b> <code>unite</code> : regrouper plusieurs colonnes en une seule</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="11-tidyr.html"><a href="11-tidyr.html#ressources-2"><i class="fa fa-check"></i><b>11.4</b> Ressources</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="12-rmarkdown.html"><a href="12-rmarkdown.html"><i class="fa fa-check"></i><b>12</b> Exporter les résultats</a><ul>
<li class="chapter" data-level="12.1" data-path="12-rmarkdown.html"><a href="12-rmarkdown.html#creer-un-nouveau-document"><i class="fa fa-check"></i><b>12.1</b> Créer un nouveau document</a></li>
<li class="chapter" data-level="12.2" data-path="12-rmarkdown.html"><a href="12-rmarkdown.html#elements-dun-document-r-markdown"><i class="fa fa-check"></i><b>12.2</b> Élements d’un document R Markdown</a><ul>
<li class="chapter" data-level="12.2.1" data-path="12-rmarkdown.html"><a href="12-rmarkdown.html#en-tete-preambule"><i class="fa fa-check"></i><b>12.2.1</b> En-tête (préambule)</a></li>
<li class="chapter" data-level="12.2.2" data-path="12-rmarkdown.html"><a href="12-rmarkdown.html#texte-du-document"><i class="fa fa-check"></i><b>12.2.2</b> Texte du document</a></li>
<li class="chapter" data-level="12.2.3" data-path="12-rmarkdown.html"><a href="12-rmarkdown.html#blocs-de-code-r"><i class="fa fa-check"></i><b>12.2.3</b> Blocs de code R</a></li>
<li class="chapter" data-level="12.2.4" data-path="12-rmarkdown.html"><a href="12-rmarkdown.html#compiler-un-document-knit"><i class="fa fa-check"></i><b>12.2.4</b> Compiler un document (<em>Knit</em>)</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="12-rmarkdown.html"><a href="12-rmarkdown.html#personnaliser-le-document-genere"><i class="fa fa-check"></i><b>12.3</b> Personnaliser le document généré</a></li>
<li class="chapter" data-level="12.4" data-path="12-rmarkdown.html"><a href="12-rmarkdown.html#options-des-blocs-de-code-r"><i class="fa fa-check"></i><b>12.4</b> Options des blocs de code R</a><ul>
<li class="chapter" data-level="12.4.1" data-path="12-rmarkdown.html"><a href="12-rmarkdown.html#nom-du-bloc"><i class="fa fa-check"></i><b>12.4.1</b> Nom du bloc</a></li>
<li class="chapter" data-level="12.4.2" data-path="12-rmarkdown.html"><a href="12-rmarkdown.html#options"><i class="fa fa-check"></i><b>12.4.2</b> Options</a></li>
<li class="chapter" data-level="12.4.3" data-path="12-rmarkdown.html"><a href="12-rmarkdown.html#modifier-les-options"><i class="fa fa-check"></i><b>12.4.3</b> Modifier les options</a></li>
<li class="chapter" data-level="12.4.4" data-path="12-rmarkdown.html"><a href="12-rmarkdown.html#options-globales"><i class="fa fa-check"></i><b>12.4.4</b> Options globales</a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="12-rmarkdown.html"><a href="12-rmarkdown.html#rendu-des-tableaux"><i class="fa fa-check"></i><b>12.5</b> Rendu des tableaux</a><ul>
<li class="chapter" data-level="12.5.1" data-path="12-rmarkdown.html"><a href="12-rmarkdown.html#tableaux-croises-1"><i class="fa fa-check"></i><b>12.5.1</b> Tableaux croisés</a></li>
<li class="chapter" data-level="12.5.2" data-path="12-rmarkdown.html"><a href="12-rmarkdown.html#tableaux-de-donnees-et-tris-a-plat"><i class="fa fa-check"></i><b>12.5.2</b> Tableaux de données et tris à plat</a></li>
</ul></li>
<li class="chapter" data-level="12.6" data-path="12-rmarkdown.html"><a href="12-rmarkdown.html#modeles-de-documents"><i class="fa fa-check"></i><b>12.6</b> Modèles de documents</a><ul>
<li class="chapter" data-level="12.6.1" data-path="12-rmarkdown.html"><a href="12-rmarkdown.html#slides"><i class="fa fa-check"></i><b>12.6.1</b> Slides</a></li>
<li class="chapter" data-level="12.6.2" data-path="12-rmarkdown.html"><a href="12-rmarkdown.html#templates"><i class="fa fa-check"></i><b>12.6.2</b> Templates</a></li>
</ul></li>
<li class="chapter" data-level="12.7" data-path="12-rmarkdown.html"><a href="12-rmarkdown.html#ressources-3"><i class="fa fa-check"></i><b>12.7</b> Ressources</a></li>
</ul></li>
<li class="appendix"><span><b>Annexes</b></span></li>
<li class="chapter" data-level="A" data-path="13-ressources.html"><a href="13-ressources.html"><i class="fa fa-check"></i><b>A</b> Ressources</a><ul>
<li class="chapter" data-level="A.1" data-path="13-ressources.html"><a href="13-ressources.html#aide"><i class="fa fa-check"></i><b>A.1</b> Aide</a><ul>
<li class="chapter" data-level="A.1.1" data-path="13-ressources.html"><a href="13-ressources.html#aide-de-r-et-rstudio"><i class="fa fa-check"></i><b>A.1.1</b> Aide de R et RStudio</a></li>
<li class="chapter" data-level="A.1.2" data-path="13-ressources.html"><a href="13-ressources.html#aide-en-ligne"><i class="fa fa-check"></i><b>A.1.2</b> Aide en ligne</a></li>
<li class="chapter" data-level="A.1.3" data-path="13-ressources.html"><a href="13-ressources.html#ou-poser-des-questions"><i class="fa fa-check"></i><b>A.1.3</b> Où poser des questions</a></li>
</ul></li>
<li class="chapter" data-level="A.2" data-path="13-ressources.html"><a href="13-ressources.html#ouvrages-blogs-moocs"><i class="fa fa-check"></i><b>A.2</b> Ouvrages, blogs, MOOCs…</a><ul>
<li class="chapter" data-level="A.2.1" data-path="13-ressources.html"><a href="13-ressources.html#francophones"><i class="fa fa-check"></i><b>A.2.1</b> Francophones</a></li>
<li class="chapter" data-level="A.2.2" data-path="13-ressources.html"><a href="13-ressources.html#anglophones"><i class="fa fa-check"></i><b>A.2.2</b> Anglophones</a></li>
</ul></li>
<li class="chapter" data-level="A.3" data-path="13-ressources.html"><a href="13-ressources.html#extensions-1"><i class="fa fa-check"></i><b>A.3</b> Extensions</a><ul>
<li class="chapter" data-level="A.3.1" data-path="13-ressources.html"><a href="13-ressources.html#ou-trouver-des-extensions-interessantes"><i class="fa fa-check"></i><b>A.3.1</b> Où trouver des extensions intéressantes ?</a></li>
<li class="chapter" data-level="A.3.2" data-path="13-ressources.html"><a href="13-ressources.html#lextension-questionr"><i class="fa fa-check"></i><b>A.3.2</b> L’extension <code>questionr</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="B" data-path="14-references.html"><a href="14-references.html"><i class="fa fa-check"></i><b>B</b> References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introduction à R et au tidyverse</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="import" class="section level1">
<h1><span class="header-section-number">Partie 7</span> Importer et exporter des données</h1>
<p>R n’est pas prévu pour la saisie de données, mais il bénéficie de nombreuses fonctions et packages permettant l’import de données depuis un grand nombre de formats. Seuls les plus courants seront abordés ici.</p>
<p>Il est très vivement conseillé de travailler avec les projets de RStudio pour faciliter l’accès aux fichiers et pouvoir regrouper l’ensemble des éléments d’une analyse dans un dossier (voir partie [projets]).</p>
<div id="import-de-fichiers-textes" class="section level2">
<h2><span class="header-section-number">7.1</span> Import de fichiers textes</h2>
<p>L’extension <code>readr</code>, qui fait partie du <em>tidyverse</em>, permet l’importation de fichiers texte, notamment au format CSV (<em>Comma separated values</em>).</p>
<p>Si votre fichier CSV suit un format CSV standard (c’est le cas s’il a été exporté depuis LibreOffice par exemple), avec des champs séparés par des virgules, vous pouvez utiliser la fonction <code>read_csv</code> en lui passant en argument le nom du fichier :</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">d &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;fichier.csv&quot;</span>)</code></pre></div>
<p>Si votre fichier vient d’Excel, avec des valeurs séparées par des points virgule, utilisez la fonction <code>read_csv2</code> :</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">d &lt;-<span class="st"> </span><span class="kw">read_csv2</span>(<span class="st">&quot;fichier.csv&quot;</span>)</code></pre></div>
<p>Dans les mêmes familles de fonction, <code>read_tsv</code> permet d’importer des fichiers dont les valeurs sont séparées par des tabulations, et <code>read_delim</code> des fichiers délimités par un séparateur indiqué en argument.</p>
<p>Chaque fonction dispose de plusieurs arguments, parmi lesquels :</p>
<ul>
<li><code>col_names</code> indique si la première ligne contient le nom des colonnes (<code>TRUE</code> par défaut)</li>
<li><code>col_types</code> permet de spécifier manuellement le type des colonnes si <code>readr</code> ne les identifie pas correctement</li>
<li><code>na</code> est un vecteur de chaînes de caractères indiquant les valeurs devant être considérées comme manquantes. Ce vecteur vaut <code>c(&quot;&quot;, &quot;NA&quot;)</code> par défaut</li>
</ul>
<p>Il peut arriver, notamment sous Windows, que l’encodage des caractères accentués ne soit pas correct au moment de l’importation. On peut spécifier manuellement l’encodage du fichier importé à l’aide de l’option <code>locale</code>. Par exemple, si l’on est sous Mac ou Linux et que le fichier a été créé sous Windows, il est possible qu’il soit encodé au format iso-8859-1. On peut alors l’importer avec :</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">d &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;fichier.csv&quot;</span>, <span class="dt">locale =</span> <span class="kw">locale</span>(<span class="dt">encoding =</span> <span class="st">&quot;ISO-8859-1&quot;</span>))</code></pre></div>
<p>À l’inverse, si vous importez un fichier sous Windows et que les accents ne sont pas affichés correctement, il est sans doute encodé en UTF-8 :</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">d &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;fichier.csv&quot;</span>, <span class="dt">locale =</span> <span class="kw">locale</span>(<span class="dt">encoding =</span> <span class="st">&quot;UTF-8&quot;</span>))</code></pre></div>
<p>Pour plus d’informations, voir le site de l’extension : <a href="http://readr.tidyverse.org/" class="uri">http://readr.tidyverse.org/</a></p>
<div class="rmdnote">
<p>
À noter que si vous souhaitez importer des fichiers textes très volumineux le plus rapidement possible, la fonction <code>fread</code> de l’extension <code>data.table</code> est plus rapide que <code>read_csv</code>.
</p>
</div>
<div id="interface-interactive-dimport-de-fichiers" class="section level3">
<h3><span class="header-section-number">7.1.1</span> Interface interactive d’import de fichiers</h3>
<p>RStudio propose une interface permettant d’importer un fichier de données de manière interactive. Pour cela, dans l’onglet <em>Environment</em>, cliquer sur le bouton <em>Import Dataset</em> :</p>
<div class="figure">
<img src="resources/screenshots/import_dataset.png" alt="Menu Import Dataset" />
<p class="caption">Menu <em>Import Dataset</em></p>
</div>
<p>Sélectionner <em>From Text (readr)…</em>. Une fenêtre s’affiche :</p>
<div class="figure">
<img src="resources/screenshots/import_dialog.png" alt="Dialogue d’importation" />
<p class="caption">Dialogue d’importation</p>
</div>
<p>Il vous suffit d’indiquer le fichier à importer dans le champ <em>File/URL</em> tout en haut (vous pouvez même indiquer un lien vers un fichier distant via HTTP). Un aperçu s’ouvre dans la partie <em>Data Preview</em> et vous permet de vérifier si l’import est correct :</p>
<div class="figure">
<img src="resources/screenshots/import_dialog_example.png" alt="Exemple de dialogue d’importation" />
<p class="caption">Exemple de dialogue d’importation</p>
</div>
<p>Vous pouvez modifier les options d’importation, changer le type des colonnes, etc. et l’aperçu se met à jour. De même, le code correspondant à l’importation du fichier avec les options sélectionnées est affiché dans la partie <em>Code Preview</em>.</p>
<div class="rmdimportant">
<p>
<strong>Important</strong> : une fois que l’import semble correct, ne cliquez pas sur le bouton <em>Import</em>. À la place, sélectionnez le code généré et copiez-le (ou cliquez sur l’icône en forme de presse papier) et choisissez <em>Cancel</em>. Ensuite, collez le code dans votre script et exécutez-le (vous pouvez supprimer la ligne commençant par <code>View</code>).
</p>
<p>
Cette manière de faire permet “d’automatiser” l’importation des données, puisqu’à la prochaine ouverture du script vous aurez juste à exécuter le code en question, et pas à repasser par l’interface d’import.
</p>
</div>
</div>
</div>
<div id="import-depuis-un-fichier-excel" class="section level2">
<h2><span class="header-section-number">7.2</span> Import depuis un fichier Excel</h2>
<p>L’extension <code>readxl</code>, qui ait également partie du <em>tidyverse</em>, permet d’importer des données directement depuis un fichier au format <code>xls</code>ou <code>xlsx</code>.</p>
<p>Pour cela on peut utiliser la fonction <code>read_excel</code> en lui spécifiant le nom du fichier :</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">d &lt;-<span class="st"> </span><span class="kw">read_excel</span>(<span class="st">&quot;fichier.xls&quot;</span>)</code></pre></div>
<p>Il est possible de spécifier la feuille que l’on souhaite importer et la plage de cellules avec les arguments <code>sheet</code> et <code>range</code> :</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">d &lt;-<span class="st"> </span><span class="kw">read_excel</span>(<span class="st">&quot;fichier.xls&quot;</span>, <span class="dt">sheet =</span> <span class="st">&quot;Feuille2&quot;</span>, <span class="dt">range =</span> <span class="st">&quot;C1:F124&quot;</span>)</code></pre></div>
<p>Comme pour l’import de fichiers texte, une interface interactive d’import est disponible dans RStudio dans l’onglet <em>Environment</em>. Cliquer sur <em>Import Dataset</em> puis <em>From Excel…</em>.</p>
<div class="figure">
<img src="resources/screenshots/import_excel.png" alt="Dialogue d’importation d’un fichier Excel" />
<p class="caption">Dialogue d’importation d’un fichier Excel</p>
</div>
<p>Spécifiez le chemin ou l’URL du fichier dans le premier champ, vérifiez l’import dans la partie <em>Data Preview</em>, modifiez si besoin les options d’importation, copiez le code d’importation généré dans la partie <em>Code Preview</em> et collez le dans votre script.</p>
<p>Pour plus d’informations, voir le site de l’extension : <a href="http://readxl.tidyverse.org/" class="uri">http://readxl.tidyverse.org/</a></p>
</div>
<div id="import-de-fichiers-sas-spss-et-stata" class="section level2">
<h2><span class="header-section-number">7.3</span> Import de fichiers SAS, SPSS et Stata</h2>
<p>L’import de fichiers de données au format SAS, SPSS ou Stata se fait via les fonctions de l’extension <code>haven</code>.</p>
<ul>
<li>Pour les fichiers provenant de SAS, vous pouvez utiliser les fonctions <code>read_sas</code> ou <code>read_xpt</code></li>
<li>Pour les fichiers provenant de SPSS, vous pouvez utiliser <code>read_sav</code> ou <code>read_por</code></li>
<li>Pour les fichiers provenant de Stata, utilisez <code>read_dta</code></li>
</ul>
<p>Chaque fonction dispose de plusieurs options. Le plus simple est d’utiliser, là aussi l’interface interactive d’importation de données de RStudio : dans l’onglet <em>Environment</em>, sélectionnez <em>Import Dataset</em> puis <em>From SPSS</em>, <em>From SAS</em> ou <em>From Stata</em>. Indiquez le chemin ou l’url du fichier, réglez les options d’importation, puis copiez le code d’importation généré et collez le dans votre script.</p>
<p>Pour plus d’informations, voir le site de l’extension : <a href="http://haven.tidyverse.org/" class="uri">http://haven.tidyverse.org/</a></p>
</div>
<div id="import-de-fichiers-dbase" class="section level2">
<h2><span class="header-section-number">7.4</span> Import de fichiers dBase</h2>
<p>Le format dBase est encore utilisé, notamment par l’INSEE, pour la diffusion de données volumineuses.</p>
<p>Les fichiers au format <code>dbf</code> peuvent être importées à l’aide de la fonction <code>read.dbf</code> de l’extension <code>foreign</code><a href="#fn8" class="footnoteRef" id="fnref8"><sup>8</sup></a> :</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(foregin)
d &lt;-<span class="st"> </span><span class="kw">read.dbf</span>(<span class="st">&quot;fichier.dbf&quot;</span>)</code></pre></div>
<p>La fonction <code>read.dbf</code> n’admet qu’un seul argument, <code>as.is</code>. Si <code>as.is = FALSE</code> (valeur par défaut), les chaînes de caractères sont automatiquement converties en <code>factor</code> à l’importation. Si <code>as.is = TRUE</code>, elles sont conservées telles quelles.</p>
</div>
<div id="connexion-a-des-bases-de-donnees" class="section level2">
<h2><span class="header-section-number">7.5</span> Connexion à des bases de données</h2>
<p>R est capable de s’interfacer avec différents systèmes de bases de données relationnelles, dont <code>sqlite</code>, <code>MS SQL Server</code>, <code>PostgreSQL</code>, <code>MariaDB</code>, etc.</p>
<p>L’extension <code>dplyr</code> (voir section [dplyr]), via le package <code>dbplyr</code>, peut être utilisé pour interroger directement ces bases de données avec la syntaxe de <code>dplyr</code> et récupérer les résultats dans R sous forme de tableaux de données. Il est également possible d’interagir directement avec les bases de données en leur envoyant des requêtes SQL.</p>
<p>À titre d’illustration, le code suivant permet de se connecter à une base de données SQLite et de l’interroger via <code>dplyr</code> :</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(dplyr)
con &lt;-<span class="st"> </span>DBI<span class="op">::</span><span class="kw">dbConnect</span>(RSQLite<span class="op">::</span><span class="kw">SQLite</span>(), <span class="dt">path =</span> <span class="st">&quot;bdd.sqlite&quot;</span>)

villes_db &lt;-<span class="st"> </span><span class="kw">tbl</span>(con, <span class="st">&quot;villes&quot;</span>)

villes <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(population <span class="op">&gt;</span><span class="st"> </span><span class="dv">10000</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(nom, departement, population)</code></pre></div>
<p>Pour plus d’informations, voir la documentation très complète (en anglais) sur : <a href="https://db.rstudio.com/" class="uri">https://db.rstudio.com/</a></p>
</div>
<div id="export-de-donnees" class="section level2">
<h2><span class="header-section-number">7.6</span> Export de données</h2>
<div id="export-de-tableaux-de-donnees" class="section level3">
<h3><span class="header-section-number">7.6.1</span> Export de tableaux de données</h3>
<p>On peut avoir besoin d’exporter un tableau de données dans R vers un fichier dans différents formats. La plupart des fonctions d’import disposent d’un équivalent permettant l’export de données. On citera notamment :</p>
<ul>
<li><code>write_csv</code>, <code>write_csv2</code>, <code>read_tsv</code> permettent d’enregistrer un <em>data frame</em> dans un fichier au format texte délimité</li>
<li><code>write_sas</code> permet d’exporter au format SAS</li>
<li><code>write_sav</code> permet d’exporter au format SPSS</li>
<li><code>write_dta</code> permet d’exporter au format Stata</li>
</ul>
<p>Il n’existe par contre pas de fonctions permettant d’enregistrer directement au format <code>xls</code> ou <code>xlsx</code>. On peut dans ce cas passer par un fichier CSV.</p>
<p>Ces fonctions sont utiles si on souhaite diffuser des données à quelqu’un d’autre, ou entre deux logiciels.</p>
<p>Si vous travaillez sur des données de grandes dimensions, les formats texte peuvent être lents à exporter et importer. Dans ce cas, l’extension <code>feather</code> peut être utile : elle permet d’enregistrer un <em>data frame</em> au format feather, qui n’est pas le plus compact mais qui est extrêmement rapide à lire et écrire.<a href="#fn9" class="footnoteRef" id="fnref9"><sup>9</sup></a></p>
<p>Les fonctions <code>read_feather</code> et <code>write_feather</code> permettent d’importer et exporter des tableaux de données dans ce format.</p>
</div>
<div id="sauvegarder-des-objets" class="section level3">
<h3><span class="header-section-number">7.6.2</span> Sauvegarder des objets</h3>
<p>Une autre manière de sauvegarder des données est de les enregistrer au format <code>Rdata</code>. Ce format est compact, rapide, et permet d’enregistrer plusieurs objets R, quel que soit leur type, dans un même fichier.</p>
<p>Pour enregistrer des objets, il suffit d’utiliser la fonction <code>save</code> et de lui fournit la liste des objets à sauvegarder et le nom du fichier :</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">save</span>(d, rp2012, tab, <span class="dt">file =</span> <span class="st">&quot;fichier.Rdata&quot;</span>)</code></pre></div>
<p>Pour charger des objets préalablement enregistrés, utiliser <code>load</code> :</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">load</span>(<span class="st">&quot;fichier.Rdata&quot;</span>)</code></pre></div>
<div class="rmdimportant">
<p>
Attention, quand on utilise <code>load</code>, les objets chargés sont importés directement dans l’environnement en cours avec leur nom d’origine. Si d’autres objets du même nom existaient déjà, ils sont écrasés sans avertissement.
</p>
</div>

</div>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="8">
<li id="fn8"><p><code>foreign</code> est une extension installée de base avec R, vous n’avez pas besoin de l’installer, il vous suffit de la charger avec <code>library</code><a href="07-import.html#fnref8">↩</a></p></li>
<li id="fn9"><p><code>feather</code> est un format compatible avec Python, R et Julia. Pour plus d’informations voir <a href="https://github.com/wesm/feather" class="uri">https://github.com/wesm/feather</a><a href="07-import.html#fnref9">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="06-tidyverse.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="08-ggplot2.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/juba/tidyverse/edit/master/07-import.Rmd",
"text": "Éditer"
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(script.src))
      script.src  = script.src.replace(/^https?:/, '');
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
